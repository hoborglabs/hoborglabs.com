<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:php="http://php.net/xsl">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Jmeter Test Plan Fragmentation - Hoborg Labs</title>
<meta name="keywords" content="">
<meta name="description" content="">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" type="text/css" media="all" href="/static/styles/css/main.css">
</head>
<body><div xmlns:php="http://php.net/xsl" id="header">
<div class="flags">
<a href="/pl" class="flag pl">PL</a>, <a href="/en" class="flag gb">EN</a>
</div>
<div id="headerInner" class="fullWidth">
<img class="logo" src="/images/logo.png"><div id="logo">
<h1>
<span>hoborg</span>labs.com</h1>
<h2>by Wojtek Oledzki</h2>
</div>
<div id="menu"><ul>
<li class="first "><a href="/en">Home</a></li>
<li class=""><a href="/en/cms">Hoborg CMS</a></li>
<li class="active"><a href="/en/blog">Blog</a></li>
<li class="last "><a href="http://projects.hoborglabs.com/">Projects</a></li>
</ul></div>
</div>
</div>
<div xmlns:php="http://php.net/xsl" id="main" class="primaryContent"><div id="main_inner" class="fullWidth"><div xmlns:php="http://php.net/xsl" id="primaryContent"><div xmlns:php="http://php.net/xsl" class="grid columns3"><div xmlns:php="http://php.net/xsl" class="content"><h3>Jmeter Test Plan Fragmentation</h3>

<p><strong>First</strong>, split you test plans by functional components. For instance
have one jmx for login-logout flow, another one for website
browsing, registration process, ... you get the idea. Check out
<a href="http://jmeter.apache.org/usermanual/component_reference.html#Test_Fragment">Test Fragment</a>
and <a href="http://jmeter.apache.org/usermanual/component_reference.html#Include_Controller">Include Controller</a>
Components. Put one Test Fragment in your frag jmx file, and include it
from your main test plan using Include Controller. Make sure your 
<code>user.dir</code> is set correctly on remote servers. It will be use to 
determine full path of your jmx file.</p>

<p><strong>Next</strong>, design your test profile using your fragments. Busy weekend
can be all about login-logout and website browsing, where a test before
massive marketing campaign will concentrate on registration process.</p>

<p>...</p>

<p>Now the trick is in <a href="http://jmeter.apache.org/usermanual/component_reference.html#Gaussian_Random_Timer">Gaussian Random Timer</a>
and all kind of <a href="http://jmeter.apache.org/usermanual/component_reference.html#logic_controllers">Logic Controllers</a>.
In your main test plan, simply include test fragments and add some
Gaussina Random Timers. That will allow you to slow down whole frag.</p>

<p>"<em>And so what?</em>" you might ask! But the trick is in the values you put in
your Timers. Instead of adding boring integers, lets put an user
property with some reasonable default values.</p>

<p>That is how it can look:</p>

<pre><code>Deviation (in milliseconds): ${__P(login.rsleep,1000)}
Constant Delay Offset (in milliseconds): ${__P(login.sleep,2000)}
</code></pre>

<!-- 
<table>
  <thead>
    <tr>
      <th></th>
      <th>Weekend</th>
      <th>Marketing Campaign</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Login, Logout</th>
      <td>10</td>
      <td>20</td>
    </tr>
    <tr>
      <th>Website Browse</th>
      <td>30</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
-->

<p><img class="column1 left" src="/images/blog/jmeter-and-beanshell-plan.png" /></p>

<p>If you are using endless loops in your farg, include your Gaussian
Timer inside that loop. Read more about how Jmeter applies Timers.</p>
</div>
</div>
</div>
<div xmlns:php="http://php.net/xsl" id="secondaryContent"><div xmlns:php="http://php.net/xsl" class="grid columns2"><div xmlns:php="http://php.net/xsl" class="content"><h4>Latest <b>blog</b> posts.</h4>
<ul>
    <li><a href="/en/blog/2013/memcached-php">[2013-04-17] Memcached is a weird creature.</a></li>
    <li><a href="/en/blog/jmeter-and-beanshell">[2013-01-28] Jmeter and BeanShell.</a></li>
    <li><a href="/en/blog/mustache">[2012-11-08] Why you should update mustache.js.</a></li>
    <li><a href="/en/blog/git-diff-mac">[2012-09-08] Visual `git diff` on MAC.</a></li>
    <li><a href="/en/blog/graphite-widget">[2012-04-16] Power your dashboard with Graphite.</a></li>
    <li><a href="/en/blog/trello-and-xen">[2012-03-30] Use Trello for your VMs status board.</a></li>
    <li><a href="/en/blog/git-config">[2012-03-23] Configure your git.</a></li>
    <li><a href="/en/blog/phpunit_git_bisect">[2012-02-09] Debuging with GIT bisect and phpunit.</a></li>
    <li><a href="/en/blog/set-up-dashboard">[2012-01-10] How to set-up your Dashboard.</a></li>
</ul>
			</div>
<div xmlns:php="http://php.net/xsl" class="content">
<h4><span>About</span> Me</h4>
<p>All aspects of web application, focusing mainly on user experience, has been one of my life&apos;s passions. My interests cover the fields of service oriented applications, databases and distributed systems.</p>
                        </div>
</div>
</div>
<br class="clear">
</div></div>
<div xmlns:php="http://php.net/xsl" id="footer" class="fixed"><div id="footer-inner" class="fullWidth">
<div class="footer-about"><h4>What&apos;s <strong>inside</strong>?</h4>
<img alt="Zend Framework" title="Zend Framework" src="/images/footer-zend-framework.png" class="logo" />
<img alt="SVN" title="SVN"  src="/images/footer-svn.png" class="logo" />
<img alt="PHP" title="PHP"  src="/images/footer-php.png" class="logo" />
<img alt="jQuery Core & UI" title="jQuery Core & UI"  src="/images/footer-jquery.png" class="logo" />

<h4><strong>Get</strong> In Touch</h4>
<p>If you intrested in testing Hoborg CMS, drop me an email at <strong>wojtek@hoborglabs.com</strong></p></div>
<div class="footer-other"><h4><strong>Who</strong> is using hoborg CMS?</h4>
<ul>
<li>wojtek.it</li>
<li>bhp-raciborz.pl</li>
<li>hoborglabs.com</li>
</ul>
<p>Copyright &copy; 2010-2011 hoborglabs.com. All rights reserved.</p></div>
</div></div>
<script src="/static/scripts/main.js"></script>
</body>
</html>
